import{A as e,C as t,D as n,M as r,N as i,T as a,_ as o,b as s,g as c,h as l,i as u,j as d,m as f,o as p,p as m,s as h,w as g,x as ee,y as _}from"./index-D-ACJEW6.js";var v={name:`TeacherDashboard`,setup(){p();let t=2*Math.PI*50,n=e([{id:1,title:`批改学生作业`,description:`数据结构课程第3章节作业`,time:`今天 18:00前`,icon:`📝`,urgent:!0},{id:2,title:`更新课程进度`,description:`操作系统课程进度更新`,time:`今天 20:00前`,icon:`📊`,urgent:!1},{id:3,title:`提交教学日志`,description:`本周教学工作总结`,time:`明天 10:00前`,icon:`📋`,urgent:!1}]),r=f(()=>!u.teacherData||!u.teacherData.teachingPerformance?{totalClasses:15,studentsEnrolled:240,averageRating:4.8,completedSessions:60,upcomingSessions:30,totalHours:180}:u.teacherData.teachingPerformance),i=f(()=>{let e=r.value.completedSessions+r.value.upcomingSessions,n=e>0?r.value.completedSessions/e:0;return t-n*t}),a=f(()=>{let e=r.value.completedSessions+r.value.upcomingSessions,n=e>0?r.value.upcomingSessions/e:0;return t-n*t}),o=f(()=>[{id:101,courseName:`数据结构`,time:`08:30-10:00`,classroom:`A101`,studentCount:35},{id:102,courseName:`算法分析`,time:`14:00-15:30`,classroom:`B202`,studentCount:28}]),s=f(()=>({present:85,late:10,absent:5}));return ee(()=>{console.log(`TeacherDashboard mounted, data:`,u.teacherData),u.role!==`teacher`&&console.warn(`用户角色不匹配，预期teacher，实际为:`,u.role),(!u.teacherData||!u.teacherData.teachingPerformance)&&(u.teacherData={teachingPerformance:{totalClasses:15,studentsEnrolled:240,averageRating:4.8,completedSessions:60,upcomingSessions:30,totalHours:180}})}),{userState:u,performanceData:r,circumference:t,completedOffset:i,upcomingOffset:a,todayCourses:o,pendingTasks:n,attendanceStats:s,completeTask:e=>{n.value=n.value.filter(t=>t.id!==e)}}}},y={class:`teacher-dashboard`},b={class:`dashboard-header`},x={class:`header-actions`},S={class:`dashboard-nav`},C={class:`nav-grid`},w={class:`performance-overview`},T={class:`performance-cards`},E={class:`performance-card`},D={class:`card-content`},O={class:`card-value`},k={class:`performance-card`},A={class:`card-content`},j={class:`card-value`},M={class:`performance-card`},N={class:`card-content`},P={class:`card-value`},F={class:`performance-card`},I={class:`card-content`},L={class:`card-value`},R={class:`teaching-stats`},z={class:`stat-card`},B={class:`stat-circle`},V={width:`120`,height:`120`,viewBox:`0 0 120 120`},H=[`stroke-dasharray`,`stroke-dashoffset`],U={class:`stat-number`},W={class:`stat-card`},G={class:`stat-circle`},K={width:`120`,height:`120`,viewBox:`0 0 120 120`},q=[`stroke-dasharray`,`stroke-dashoffset`],J={class:`stat-number`},Y={class:`today-schedule`},X={class:`section-header`},Z={class:`schedule-list`},Q={class:`schedule-time`},te={class:`schedule-info`},ne={class:`course-name`},re={class:`course-detail`},ie={class:`course-detail`},ae={class:`schedule-actions`},oe={key:0,class:`empty-state`},se={class:`pending-tasks`},ce={class:`tasks-list`},le={class:`task-icon`},ue={class:`task-content`},de={class:`task-title`},fe={class:`task-description`},pe={class:`task-time`},me={class:`task-action`},he=[`onClick`],ge={key:0,class:`empty-state`},_e={class:`attendance-stats`},ve={class:`section-header`},ye={class:`attendance-chart`},be={class:`attendance-item`},$={class:`attendance-bar`},xe={class:`attendance-percentage`},Se={class:`attendance-item`},Ce={class:`attendance-bar`},we={class:`attendance-percentage`},Te={class:`attendance-item`},Ee={class:`attendance-bar`},De={class:`attendance-percentage`};function Oe(e,u,f,p,h,ee){let v=a(`router-link`);return t(),o(`div`,y,[l(`div`,b,[u[1]||=l(`h2`,null,`教学仪表盘`,-1),l(`div`,x,[s(v,{to:`/home/teacher/profile`,class:`profile-button`,"aria-label":`个人中心`},{default:n(()=>[...u[0]||=[l(`span`,{class:`profile-icon`},`👤`,-1),l(`span`,null,`个人中心`,-1)]]),_:1})])]),l(`div`,S,[l(`div`,C,[s(v,{to:`/home/teacher/course-schedule`,class:`nav-card`,"aria-label":`课程安排管理`},{default:n(()=>[...u[2]||=[l(`div`,{class:`nav-icon`},`📅`,-1),l(`div`,{class:`nav-title`},`课程安排管理`,-1)]]),_:1}),s(v,{to:`/home/teacher/hours-deduction`,class:`nav-card`,"aria-label":`课时扣除操作`},{default:n(()=>[...u[3]||=[l(`div`,{class:`nav-icon`},`✂️`,-1),l(`div`,{class:`nav-title`},`课时扣除操作`,-1)]]),_:1}),s(v,{to:`/home/teacher/attendance`,class:`nav-card`,"aria-label":`学员签到管理`},{default:n(()=>[...u[4]||=[l(`div`,{class:`nav-icon`},`✅`,-1),l(`div`,{class:`nav-title`},`学员签到管理`,-1)]]),_:1}),s(v,{to:`/home/teacher/performance`,class:`nav-card`,"aria-label":`业绩统计分析`},{default:n(()=>[...u[5]||=[l(`div`,{class:`nav-icon`},`📊`,-1),l(`div`,{class:`nav-title`},`业绩统计分析`,-1)]]),_:1}),s(v,{to:`/home/teacher/class-consumption`,class:`nav-card`,"aria-label":`课消数据仪表盘`},{default:n(()=>[...u[6]||=[l(`div`,{class:`nav-icon`},`📈`,-1),l(`div`,{class:`nav-title`},`课消数据仪表盘`,-1)]]),_:1}),s(v,{to:`/home/teacher/students`,class:`nav-card`,"aria-label":`所属学员信息查询`},{default:n(()=>[...u[7]||=[l(`div`,{class:`nav-icon`},`👥`,-1),l(`div`,{class:`nav-title`},`所属学员信息查询`,-1)]]),_:1}),s(v,{to:`/home/teacher/archives`,class:`nav-card`,"aria-label":`档案资料查询`},{default:n(()=>[...u[8]||=[l(`div`,{class:`nav-icon`},`📋`,-1),l(`div`,{class:`nav-title`},`档案资料查询`,-1)]]),_:1})])]),l(`div`,w,[u[17]||=l(`h3`,null,`教学业绩概览`,-1),l(`div`,T,[l(`div`,E,[u[10]||=l(`div`,{class:`card-icon teaching-icon`},`📚`,-1),l(`div`,D,[l(`div`,O,i(p.performanceData.totalClasses),1),u[9]||=l(`div`,{class:`card-label`},`教授课程数`,-1)])]),l(`div`,k,[u[12]||=l(`div`,{class:`card-icon student-icon`},`👥`,-1),l(`div`,A,[l(`div`,j,i(p.performanceData.studentsEnrolled),1),u[11]||=l(`div`,{class:`card-label`},`学生人数`,-1)])]),l(`div`,M,[u[14]||=l(`div`,{class:`card-icon rating-icon`},`⭐`,-1),l(`div`,N,[l(`div`,P,i(p.performanceData.averageRating),1),u[13]||=l(`div`,{class:`card-label`},`平均评分`,-1)])]),l(`div`,F,[u[16]||=l(`div`,{class:`card-icon hours-icon`},`⏰`,-1),l(`div`,I,[l(`div`,L,i(p.performanceData.totalHours),1),u[15]||=l(`div`,{class:`card-label`},`总授课时长(小时)`,-1)])])])]),l(`div`,R,[l(`div`,z,[u[19]||=l(`h3`,null,`已完成课时`,-1),l(`div`,B,[(t(),o(`svg`,V,[u[18]||=l(`circle`,{cx:`60`,cy:`60`,r:`50`,fill:`none`,stroke:`#e1e8ed`,"stroke-width":`10`},null,-1),l(`circle`,{cx:`60`,cy:`60`,r:`50`,fill:`none`,stroke:`#4caf50`,"stroke-width":`10`,"stroke-dasharray":p.circumference,"stroke-dashoffset":p.completedOffset,"stroke-linecap":`round`,transform:`rotate(-90 60 60)`},null,8,H)])),l(`div`,U,i(p.performanceData.completedSessions),1)])]),l(`div`,W,[u[21]||=l(`h3`,null,`即将开始的课时`,-1),l(`div`,G,[(t(),o(`svg`,K,[u[20]||=l(`circle`,{cx:`60`,cy:`60`,r:`50`,fill:`none`,stroke:`#e1e8ed`,"stroke-width":`10`},null,-1),l(`circle`,{cx:`60`,cy:`60`,r:`50`,fill:`none`,stroke:`#2196f3`,"stroke-width":`10`,"stroke-dasharray":p.circumference,"stroke-dashoffset":p.upcomingOffset,"stroke-linecap":`round`,transform:`rotate(-90 60 60)`},null,8,q)])),l(`div`,J,i(p.performanceData.upcomingSessions),1)])])]),l(`div`,Y,[l(`div`,X,[u[23]||=l(`h3`,null,`今日课程安排`,-1),s(v,{to:`/home/teacher/course-schedule`,class:`view-all-link`},{default:n(()=>[...u[22]||=[_(`查看全部`,-1)]]),_:1})]),l(`div`,Z,[(t(!0),o(m,null,g(p.todayCourses,e=>(t(),o(`div`,{key:e.id,class:`schedule-item`},[l(`div`,Q,i(e.time),1),l(`div`,te,[l(`div`,ne,i(e.courseName),1),l(`div`,re,`教室：`+i(e.classroom),1),l(`div`,ie,`学生：`+i(e.studentCount)+`人`,1)]),l(`div`,ae,[s(v,{to:`/home/teacher/attendance?courseId=${e.id}`,class:`action-button primary`},{default:n(()=>[...u[24]||=[_(` 签到管理 `,-1)]]),_:1},8,[`to`])])]))),128)),p.todayCourses.length===0?(t(),o(`div`,oe,[...u[25]||=[l(`p`,null,`今日暂无课程安排`,-1)]])):c(``,!0)])]),l(`div`,se,[u[27]||=l(`div`,{class:`section-header`},[l(`h3`,null,`待处理事项`)],-1),l(`div`,ce,[(t(!0),o(m,null,g(p.pendingTasks,e=>(t(),o(`div`,{key:e.id,class:d([`task-item`,{urgent:e.urgent}])},[l(`div`,le,i(e.icon),1),l(`div`,ue,[l(`div`,de,i(e.title),1),l(`div`,fe,i(e.description),1),l(`div`,pe,i(e.time),1)]),l(`div`,me,[l(`button`,{class:`action-button small`,onClick:t=>p.completeTask(e.id)},`处理`,8,he)])],2))),128)),p.pendingTasks.length===0?(t(),o(`div`,ge,[...u[26]||=[l(`p`,null,`暂无待处理事项`,-1)]])):c(``,!0)])]),l(`div`,_e,[l(`div`,ve,[u[29]||=l(`h3`,null,`学生出勤统计`,-1),s(v,{to:`/home/teacher/attendance`,class:`view-all-link`},{default:n(()=>[...u[28]||=[_(`查看全部`,-1)]]),_:1})]),l(`div`,ye,[l(`div`,be,[u[30]||=l(`div`,{class:`attendance-label`},`出勤`,-1),l(`div`,$,[l(`div`,{class:`attendance-fill present`,style:r({width:p.attendanceStats.present+`%`})},null,4)]),l(`div`,xe,i(p.attendanceStats.present)+`%`,1)]),l(`div`,Se,[u[31]||=l(`div`,{class:`attendance-label`},`迟到`,-1),l(`div`,Ce,[l(`div`,{class:`attendance-fill late`,style:r({width:p.attendanceStats.late+`%`})},null,4)]),l(`div`,we,i(p.attendanceStats.late)+`%`,1)]),l(`div`,Te,[u[32]||=l(`div`,{class:`attendance-label`},`缺勤`,-1),l(`div`,Ee,[l(`div`,{class:`attendance-fill absent`,style:r({width:p.attendanceStats.absent+`%`})},null,4)]),l(`div`,De,i(p.attendanceStats.absent)+`%`,1)])])])])}var ke=h(v,[[`render`,Oe],[`__scopeId`,`data-v-8123a4c9`]]);export{ke as default};