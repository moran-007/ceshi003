import{C as e,N as t,_ as n,h as r,j as i,m as a,p as o,r as s,s as c,w as l,x as u}from"./index-D-ACJEW6.js";var d={name:`AdminDashboard`,setup(){let e={student:`学生`,teacher:`教师`,admin:`管理员`},t=a(()=>!s.adminData||!s.adminData.users?[{id:1,username:`student1`,role:`student`,status:`active`},{id:2,username:`student2`,role:`student`,status:`active`},{id:3,username:`teacher1`,role:`teacher`,status:`active`},{id:4,username:`admin1`,role:`admin`,status:`active`}]:s.adminData.users),n=a(()=>!s.adminData||!s.adminData.teachers?[{id:1,name:`张老师`,courses:3,students:85},{id:2,name:`李老师`,courses:2,students:60},{id:3,name:`王老师`,courses:4,students:95}]:s.adminData.teachers),r=a(()=>t.value.filter(e=>e.status===`active`).length);return u(()=>{console.log(`AdminDashboard mounted, data:`,s.adminData),(!s.adminData||!s.adminData.users||s.adminData.users.length===0)&&(s.adminData={users:[{id:1,username:`student1`,role:`student`,status:`active`},{id:2,username:`student2`,role:`student`,status:`active`},{id:3,username:`teacher1`,role:`teacher`,status:`active`},{id:4,username:`admin1`,role:`admin`,status:`active`}],teachers:[{id:1,name:`张老师`,courses:3,students:85},{id:2,name:`李老师`,courses:2,students:60},{id:3,name:`王老师`,courses:4,students:95}]})}),{userState:s,roleMap:e,usersData:t,teachersData:n,activeUsersCount:r,toggleUserStatus:e=>{if(e.status=e.status===`active`?`inactive`:`active`,console.log(`用户 ${e.username} 状态已切换为: ${e.status}`),s.adminData&&s.adminData.users){let t=s.adminData.users.find(t=>t.id===e.id);t&&(t.status=e.status)}},editUser:e=>{console.log(`编辑用户:`,e)},viewTeacherDetails:e=>{console.log(`查看教师详情:`,e)},editTeacher:e=>{console.log(`编辑教师:`,e)}}}},f={class:`admin-dashboard`},p={class:`overview-section`},m={class:`overview-cards`},h={class:`overview-card`},g={class:`card-number`},_={class:`overview-card`},v={class:`card-number`},y={class:`overview-card`},b={class:`card-number`},x={class:`management-section`},S={class:`table-responsive`},C={class:`management-table`},w=[`onClick`],T=[`onClick`],E={class:`management-section`},D={class:`table-responsive`},O={class:`management-table`},k=[`onClick`],A=[`onClick`];function j(a,s,c,u,d,j){return e(),n(`div`,f,[s[10]||=r(`h2`,null,`管理员控制台`,-1),r(`div`,p,[s[3]||=r(`h3`,null,`系统概览`,-1),r(`div`,m,[r(`div`,h,[s[0]||=r(`div`,{class:`card-title`},`用户总数`,-1),r(`div`,g,t(u.usersData.length),1)]),r(`div`,_,[s[1]||=r(`div`,{class:`card-title`},`教师总数`,-1),r(`div`,v,t(u.teachersData.length),1)]),r(`div`,y,[s[2]||=r(`div`,{class:`card-title`},`活跃用户`,-1),r(`div`,b,t(u.activeUsersCount),1)])])]),r(`div`,x,[s[5]||=r(`h3`,null,`用户管理`,-1),r(`div`,S,[r(`table`,C,[s[4]||=r(`thead`,null,[r(`tr`,null,[r(`th`,null,`ID`),r(`th`,null,`用户名`),r(`th`,null,`角色`),r(`th`,null,`状态`),r(`th`,null,`操作`)])],-1),r(`tbody`,null,[(e(!0),n(o,null,l(u.usersData,a=>(e(),n(`tr`,{key:a.id},[r(`td`,null,t(a.id),1),r(`td`,null,t(a.username),1),r(`td`,null,[r(`span`,{class:i([`role-badge`,a.role])},t(u.roleMap[a.role]),3)]),r(`td`,null,[r(`span`,{class:i([`status-badge`,a.status])},t(a.status===`active`?`活跃`:`禁用`),3)]),r(`td`,null,[r(`button`,{onClick:e=>u.toggleUserStatus(a),class:i([`action-button`,a.status===`active`?`deactivate`:`activate`])},t(a.status===`active`?`禁用`:`启用`),11,w),r(`button`,{onClick:e=>u.editUser(a),class:`action-button edit`},` 编辑 `,8,T)])]))),128))])])]),s[6]||=r(`button`,{class:`add-button`},`添加用户`,-1)]),r(`div`,E,[s[8]||=r(`h3`,null,`教师管理`,-1),r(`div`,D,[r(`table`,O,[s[7]||=r(`thead`,null,[r(`tr`,null,[r(`th`,null,`ID`),r(`th`,null,`教师姓名`),r(`th`,null,`教授课程数`),r(`th`,null,`学生人数`),r(`th`,null,`操作`)])],-1),r(`tbody`,null,[(e(!0),n(o,null,l(u.teachersData,i=>(e(),n(`tr`,{key:i.id},[r(`td`,null,t(i.id),1),r(`td`,null,t(i.name),1),r(`td`,null,t(i.courses),1),r(`td`,null,t(i.students),1),r(`td`,null,[r(`button`,{onClick:e=>u.viewTeacherDetails(i),class:`action-button view`},` 查看详情 `,8,k),r(`button`,{onClick:e=>u.editTeacher(i),class:`action-button edit`},` 编辑 `,8,A)])]))),128))])])]),s[9]||=r(`button`,{class:`add-button`},`添加教师`,-1)]),s[11]||=r(`div`,{class:`admin-tips`},[r(`h3`,null,`权限管理提示`),r(`div`,{class:`tips-content`},[r(`ul`,null,[r(`li`,null,`请谨慎修改用户角色和状态，避免影响系统正常运行`),r(`li`,null,`管理员账号拥有最高权限，请妥善保管`),r(`li`,null,`定期检查用户状态，清理不活跃账号`),r(`li`,null,`为教师分配合理的课程数量，确保教学质量`)])])],-1)])}var M=c(d,[[`render`,j],[`__scopeId`,`data-v-9c65ab89`]]);export{M as default};