import{A as e,C as t,M as n,N as r,O as i,_ as a,d as o,g as s,h as c,j as l,o as u,p as d,s as f,u as p,v as m,w as h,x as g}from"./index-D-ACJEW6.js";var _={name:`TeacherPerformanceStatistics`,setup(){let t=u(),n=e(`month`),r=e(``),i=e(``),a=e(`day`),o=e(`table`),s=e({totalClasses:42,classesTrend:12.5,totalStudents:156,studentsTrend:8.3,totalHours:168,hoursTrend:15.2,attendanceRate:92.3,attendanceTrend:2.1}),c=e([{label:`1月`,hours:32,students:28},{label:`2月`,hours:45,students:36},{label:`3月`,hours:48,students:40},{label:`4月`,hours:43,students:38},{label:`5月`,hours:40,students:35},{label:`6月`,hours:38,students:32}]),l=e([{id:1,name:`数据结构`,code:`CS201`,classCount:16,totalHours:64,studentCount:32,attendanceRate:94.5,satisfaction:96},{id:2,name:`算法分析`,code:`CS202`,classCount:14,totalHours:56,studentCount:28,attendanceRate:92.3,satisfaction:94},{id:3,name:`数据库原理`,code:`CS203`,classCount:12,totalHours:48,studentCount:40,attendanceRate:90.1,satisfaction:92},{id:4,name:`操作系统`,code:`CS301`,classCount:10,totalHours:40,studentCount:35,attendanceRate:89.7,satisfaction:93},{id:5,name:`计算机网络`,code:`CS302`,classCount:8,totalHours:32,studentCount:30,attendanceRate:91.2,satisfaction:95}]),d=e([{stars:5,count:48,percentage:60},{stars:4,count:24,percentage:30},{stars:3,count:6,percentage:7.5},{stars:2,count:2,percentage:2.5},{stars:1,count:0,percentage:0}]),f=e([{text:`教学认真`,size:24,opacity:.9},{text:`内容丰富`,size:20,opacity:.8},{text:`讲解清晰`,size:22,opacity:.85},{text:`生动有趣`,size:18,opacity:.75},{text:`互动性强`,size:16,opacity:.7},{text:`收获很大`,size:19,opacity:.82},{text:`专业知识深厚`,size:21,opacity:.88},{text:`作业适量`,size:15,opacity:.65},{text:`注重实践`,size:17,opacity:.78},{text:`耐心指导`,size:18,opacity:.75}]),p=e([{id:1,studentName:`张三`,courseName:`数据结构`,rating:5,content:`老师讲解非常清晰，案例丰富，能够很好地理解抽象概念。`,date:`2024-01-20`},{id:2,studentName:`李四`,courseName:`算法分析`,rating:4,content:`课程内容充实，作业有挑战性，对提高算法能力很有帮助。`,date:`2024-01-19`},{id:3,studentName:`王五`,courseName:`数据库原理`,rating:5,content:`老师非常专业，实践环节安排合理，收获颇丰。`,date:`2024-01-18`}]),m=e=>e>0?`trend-up`:e<0?`trend-down`:`trend-neutral`,h=e=>`${e>0?`+`:``}${e}%`,_=e=>{let t=Math.max(...c.value.map(e=>Math.max(e.hours,e.students)));return`${e/t*100}%`},v=e=>e>=95?`rate-excellent`:e>=90?`rate-good`:e>=85?`rate-average`:`rate-poor`,y=e=>e>=95?`satisfaction-excellent`:e>=90?`satisfaction-good`:e>=85?`satisfaction-average`:`satisfaction-poor`,b=e=>`★`.repeat(e)+`☆`.repeat(5-e),x=()=>{console.log(`更新统计数据`,{period:n.value,startDate:r.value,endDate:i.value,granularity:a.value})};return g(()=>{localStorage.getItem(`userToken`)||(localStorage.setItem(`userToken`,`mock-token-teacher-789`),localStorage.setItem(`userRole`,`teacher`))}),{selectedPeriod:n,customStartDate:r,customEndDate:i,dataGranularity:a,viewMode:o,summaryStats:s,trendData:c,coursePerformanceData:l,ratingDistribution:d,keywords:f,recentFeedback:p,getTrendClass:m,formatTrend:h,getBarHeight:_,getAttendanceRateClass:v,getSatisfactionClass:y,getStars:b,updateStatistics:x,resetFilters:()=>{n.value=`month`,r.value=``,i.value=``,a.value=n.value===`week`||n.value===`month`?`day`:`month`,x()},exportData:()=>{alert(`导出数据功能开发中...`)},viewCourseDetails:e=>{t.push(`/home/teacher/course-details?id=${e}`)},formatDate:e=>{if(!e)return``;let t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,`0`)}-${String(t.getDate()).padStart(2,`0`)}`},goBack:()=>{t.push(`/home/teacher/dashboard`)}}}},v={class:`teacher-performance-statistics`},y={class:`page-header`},b={class:`statistics-container`},x={class:`filter-controls`},ee={class:`filter-group`},te={key:0,class:`filter-group date-range`},S={class:`date-inputs`},C={class:`filter-group`},w=[`disabled`],T=[`disabled`],E=[`disabled`],D={class:`filter-actions`},O={class:`overview-cards`},k={class:`stat-card`},A={class:`stat-content`},j={class:`stat-value`},M={class:`stat-card`},N={class:`stat-content`},P={class:`stat-value`},F={class:`stat-card`},I={class:`stat-content`},L={class:`stat-value`},R={class:`stat-card`},z={class:`stat-content`},B={class:`stat-value`},V={class:`chart-section`},H={class:`chart-container`},U={class:`bar-chart`},W={class:`bar-info`},G={class:`bar-label`},K={class:`bar-wrapper`},q={class:`bar-tooltip`},J={class:`bar-tooltip`},Y={class:`course-performance`},X={class:`section-header`},Z={class:`view-options`},Q={key:0,class:`performance-table`},ne={class:`table-body`},re={class:`table-cell`},ie={class:`course-name`},ae={class:`course-code`},oe={class:`table-cell`},se={class:`table-cell`},ce={class:`table-cell`},le={class:`table-cell`},ue={class:`table-cell`},de={class:`table-cell`},fe=[`onClick`],pe={key:1,class:`performance-cards`},me={class:`card-header`},he={class:`course-name`},ge={class:`course-code`},_e={class:`card-body`},ve={class:`metrics-row`},ye={class:`metric`},be={class:`metric-value`},xe={class:`metric`},Se={class:`metric-value`},Ce={class:`metric`},we={class:`metric-value`},Te={class:`progress-metrics`},Ee={class:`progress-item`},De={class:`progress-header`},Oe={class:`progress-bar`},ke={class:`progress-item`},Ae={class:`progress-header`},je={class:`progress-bar`},Me={class:`card-footer`},Ne=[`onClick`],Pe={class:`feedback-analysis`},Fe={class:`feedback-charts`},Ie={class:`feedback-item`},Le={class:`rating-distribution`},Re={class:`rating-label`},ze={class:`stars`},Be={class:`count`},Ve={class:`rating-progress`},$={class:`rating-percentage`},He={class:`feedback-item`},Ue={class:`keywords-cloud`},We={class:`recent-feedback`},Ge={class:`feedback-list`},Ke={class:`feedback-header`},qe={class:`student-info`},Je={class:`student-name`},Ye={class:`course-name`},Xe={class:`feedback-rating`},Ze={class:`feedback-content`},Qe={class:`feedback-date`};function $e(e,u,f,g,_,$e){return t(),a(`div`,v,[c(`div`,y,[c(`button`,{class:`back-button`,onClick:u[0]||=(...e)=>g.goBack&&g.goBack(...e)},`← 返回仪表盘`),u[13]||=c(`h2`,null,`业绩统计分析`,-1)]),c(`div`,b,[c(`div`,x,[c(`div`,ee,[u[15]||=c(`label`,null,`统计周期`,-1),i(c(`select`,{"onUpdate:modelValue":u[1]||=e=>g.selectedPeriod=e,onChange:u[2]||=(...e)=>g.updateStatistics&&g.updateStatistics(...e)},[...u[14]||=[m(`<option value="week" data-v-ad6eb9f4>本周</option><option value="month" data-v-ad6eb9f4>本月</option><option value="quarter" data-v-ad6eb9f4>本季度</option><option value="year" data-v-ad6eb9f4>本年度</option><option value="custom" data-v-ad6eb9f4>自定义</option>`,5)]],544),[[p,g.selectedPeriod]])]),g.selectedPeriod===`custom`?(t(),a(`div`,te,[u[17]||=c(`label`,null,`日期范围`,-1),c(`div`,S,[i(c(`input`,{type:`date`,"onUpdate:modelValue":u[3]||=e=>g.customStartDate=e,onChange:u[4]||=(...e)=>g.updateStatistics&&g.updateStatistics(...e)},null,544),[[o,g.customStartDate]]),u[16]||=c(`span`,null,`至`,-1),i(c(`input`,{type:`date`,"onUpdate:modelValue":u[5]||=e=>g.customEndDate=e,onChange:u[6]||=(...e)=>g.updateStatistics&&g.updateStatistics(...e)},null,544),[[o,g.customEndDate]])])])):s(``,!0),c(`div`,C,[u[18]||=c(`label`,null,`数据粒度`,-1),i(c(`select`,{"onUpdate:modelValue":u[7]||=e=>g.dataGranularity=e,onChange:u[8]||=(...e)=>g.updateStatistics&&g.updateStatistics(...e)},[c(`option`,{value:`day`,disabled:g.selectedPeriod!==`week`&&g.selectedPeriod!==`month`},`按天`,8,w),c(`option`,{value:`week`,disabled:g.selectedPeriod===`week`},`按周`,8,T),c(`option`,{value:`month`,disabled:g.selectedPeriod===`month`},`按月`,8,E)],544),[[p,g.dataGranularity]])]),c(`div`,D,[c(`button`,{class:`action-button`,onClick:u[9]||=(...e)=>g.resetFilters&&g.resetFilters(...e)},`重置`),c(`button`,{class:`action-button primary`,onClick:u[10]||=(...e)=>g.exportData&&g.exportData(...e)},`导出数据`)])]),c(`div`,O,[c(`div`,k,[u[20]||=c(`div`,{class:`stat-icon`,style:{"background-color":`#e8f5e9`,color:`#2e7d32`}},` 📚 `,-1),c(`div`,A,[c(`div`,j,r(g.summaryStats.totalClasses),1),u[19]||=c(`div`,{class:`stat-label`},`授课总数`,-1)]),c(`div`,{class:l([`stat-trend`,g.getTrendClass(g.summaryStats.classesTrend)])},r(g.formatTrend(g.summaryStats.classesTrend)),3)]),c(`div`,M,[u[22]||=c(`div`,{class:`stat-icon`,style:{"background-color":`#e3f2fd`,color:`#1565c0`}},` 👥 `,-1),c(`div`,N,[c(`div`,P,r(g.summaryStats.totalStudents),1),u[21]||=c(`div`,{class:`stat-label`},`学员总数`,-1)]),c(`div`,{class:l([`stat-trend`,g.getTrendClass(g.summaryStats.studentsTrend)])},r(g.formatTrend(g.summaryStats.studentsTrend)),3)]),c(`div`,F,[u[24]||=c(`div`,{class:`stat-icon`,style:{"background-color":`#fff3e0`,color:`#ef6c00`}},` ⏰ `,-1),c(`div`,I,[c(`div`,L,r(g.summaryStats.totalHours),1),u[23]||=c(`div`,{class:`stat-label`},`授课课时`,-1)]),c(`div`,{class:l([`stat-trend`,g.getTrendClass(g.summaryStats.hoursTrend)])},r(g.formatTrend(g.summaryStats.hoursTrend)),3)]),c(`div`,R,[u[26]||=c(`div`,{class:`stat-icon`,style:{"background-color":`#fce4ec`,color:`#c2185b`}},` 📊 `,-1),c(`div`,z,[c(`div`,B,r(g.summaryStats.attendanceRate)+`%`,1),u[25]||=c(`div`,{class:`stat-label`},`平均出勤率`,-1)]),c(`div`,{class:l([`stat-trend`,g.getTrendClass(g.summaryStats.attendanceTrend)])},r(g.formatTrend(g.summaryStats.attendanceTrend)),3)])]),c(`div`,V,[u[27]||=m(`<div class="chart-header" data-v-ad6eb9f4><h3 data-v-ad6eb9f4>授课趋势</h3><div class="chart-legend" data-v-ad6eb9f4><span class="legend-item" data-v-ad6eb9f4><span class="legend-color" style="background-color:#667eea;" data-v-ad6eb9f4></span> 课时数 </span><span class="legend-item" data-v-ad6eb9f4><span class="legend-color" style="background-color:#48bb78;" data-v-ad6eb9f4></span> 学生人数 </span></div></div>`,1),c(`div`,H,[c(`div`,U,[(t(!0),a(d,null,h(g.trendData,e=>(t(),a(`div`,{key:e.label,class:`bar-group`},[c(`div`,W,[c(`div`,G,r(e.label),1)]),c(`div`,K,[c(`div`,{class:`bar hours-bar`,style:n({height:g.getBarHeight(e.hours)})},[c(`div`,q,r(e.hours)+` 课时`,1)],4),c(`div`,{class:`bar students-bar`,style:n({height:g.getBarHeight(e.students)})},[c(`div`,J,r(e.students)+` 人`,1)],4)])]))),128))])])]),c(`div`,Y,[c(`div`,X,[u[28]||=c(`h3`,null,`课程业绩详情`,-1),c(`div`,Z,[c(`button`,{class:l([`view-button`,{active:g.viewMode===`table`}]),onClick:u[11]||=e=>g.viewMode=`table`},` 表格视图 `,2),c(`button`,{class:l([`view-button`,{active:g.viewMode===`cards`}]),onClick:u[12]||=e=>g.viewMode=`cards`},` 卡片视图 `,2)])]),g.viewMode===`table`?(t(),a(`div`,Q,[u[29]||=m(`<div class="table-header" data-v-ad6eb9f4><div class="header-cell" data-v-ad6eb9f4>课程名称</div><div class="header-cell" data-v-ad6eb9f4>授课次数</div><div class="header-cell" data-v-ad6eb9f4>授课课时</div><div class="header-cell" data-v-ad6eb9f4>学员人数</div><div class="header-cell" data-v-ad6eb9f4>出勤率</div><div class="header-cell" data-v-ad6eb9f4>满意度</div><div class="header-cell" data-v-ad6eb9f4>操作</div></div>`,1),c(`div`,ne,[(t(!0),a(d,null,h(g.coursePerformanceData,e=>(t(),a(`div`,{key:e.id,class:`table-row`},[c(`div`,re,[c(`div`,ie,r(e.name),1),c(`div`,ae,`课程代码: `+r(e.code),1)]),c(`div`,oe,r(e.classCount),1),c(`div`,se,r(e.totalHours),1),c(`div`,ce,r(e.studentCount),1),c(`div`,le,[c(`div`,{class:l([`rate-badge`,g.getAttendanceRateClass(e.attendanceRate)])},r(e.attendanceRate)+`% `,3)]),c(`div`,ue,[c(`div`,{class:l([`rate-badge`,g.getSatisfactionClass(e.satisfaction)])},r(e.satisfaction)+`% `,3)]),c(`div`,de,[c(`button`,{class:`action-button small`,onClick:t=>g.viewCourseDetails(e.id)},` 详情 `,8,fe)])]))),128))])])):s(``,!0),g.viewMode===`cards`?(t(),a(`div`,pe,[(t(!0),a(d,null,h(g.coursePerformanceData,e=>(t(),a(`div`,{key:e.id,class:`course-card`},[c(`div`,me,[c(`h4`,he,r(e.name),1),c(`span`,ge,r(e.code),1)]),c(`div`,_e,[c(`div`,ve,[c(`div`,ye,[c(`span`,be,r(e.classCount),1),u[30]||=c(`span`,{class:`metric-label`},`授课次数`,-1)]),c(`div`,xe,[c(`span`,Se,r(e.totalHours),1),u[31]||=c(`span`,{class:`metric-label`},`课时`,-1)]),c(`div`,Ce,[c(`span`,we,r(e.studentCount),1),u[32]||=c(`span`,{class:`metric-label`},`学员`,-1)])]),c(`div`,Te,[c(`div`,Ee,[c(`div`,De,[u[33]||=c(`span`,null,`出勤率`,-1),c(`span`,null,r(e.attendanceRate)+`%`,1)]),c(`div`,Oe,[c(`div`,{class:l([`progress-fill`,g.getAttendanceRateClass(e.attendanceRate)]),style:n({width:e.attendanceRate+`%`})},null,6)])]),c(`div`,ke,[c(`div`,Ae,[u[34]||=c(`span`,null,`满意度`,-1),c(`span`,null,r(e.satisfaction)+`%`,1)]),c(`div`,je,[c(`div`,{class:l([`progress-fill`,g.getSatisfactionClass(e.satisfaction)]),style:n({width:e.satisfaction+`%`})},null,6)])])])]),c(`div`,Me,[c(`button`,{class:`action-button small primary`,onClick:t=>g.viewCourseDetails(e.id)},` 查看详情 `,8,Ne)])]))),128))])):s(``,!0)]),c(`div`,Pe,[u[38]||=c(`h3`,null,`学员反馈分析`,-1),c(`div`,Fe,[c(`div`,Ie,[u[35]||=c(`div`,{class:`feedback-header`},[c(`h4`,null,`评分分布`)],-1),c(`div`,Le,[(t(!0),a(d,null,h(g.ratingDistribution,e=>(t(),a(`div`,{key:e.stars,class:`rating-bar`},[c(`div`,Re,[c(`span`,ze,r(g.getStars(e.stars)),1),c(`span`,Be,r(e.count),1)]),c(`div`,Ve,[c(`div`,{class:`rating-fill`,style:n({width:e.percentage+`%`})},null,4)]),c(`div`,$,r(e.percentage)+`%`,1)]))),128))])]),c(`div`,He,[u[36]||=c(`div`,{class:`feedback-header`},[c(`h4`,null,`关键词分析`)],-1),c(`div`,Ue,[(t(!0),a(d,null,h(g.keywords,e=>(t(),a(`span`,{key:e.text,class:`keyword-tag`,style:n({fontSize:e.size+`px`,opacity:e.opacity})},r(e.text),5))),128))])])]),c(`div`,We,[u[37]||=c(`h4`,null,`近期反馈`,-1),c(`div`,Ge,[(t(!0),a(d,null,h(g.recentFeedback,e=>(t(),a(`div`,{key:e.id,class:`feedback-entry`},[c(`div`,Ke,[c(`div`,qe,[c(`span`,Je,r(e.studentName),1),c(`span`,Ye,r(e.courseName),1)]),c(`div`,Xe,r(g.getStars(e.rating)),1)]),c(`div`,Ze,r(e.content),1),c(`div`,Qe,r(g.formatDate(e.date)),1)]))),128))])])])])])}var et=f(_,[[`render`,$e],[`__scopeId`,`data-v-ad6eb9f4`]]);export{et as default};